<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    
    <script>
       function handleBarChange() {
            document.getElementById("amountText").value=document.getElementById("amountBar").value;
            document.getElementById("yearsText").value=document.getElementById("yearsBar").value;
            document.getElementById("interestText").value=document.getElementById("interestBar").value;
       }

       function TextChange(){
        document.getElementById("amountBar").value=document.getElementById("amountText").value;
        document.getElementById("yearsBar").value=document.getElementById("yearsText").value;
        document.getElementById("interestBar").value=document.getElementById("interestText").value;
       }
       
       function calculateEmi(){
        var result=document.getElementById('EMI');
        document.getElementById("EMI").textContent='';
        var amount = document.getElementById("amountText").value;
        var year = document.getElementById("yearsText").value;
        var interest = document.getElementById("interestText").value;
        result.style.color='red';
        
        if(amount=='' || amount<10000){result.innerHTML=('Enter loan amount [10000 to 1000000].');}
        else if(year=='' || year<1){result.innerHTML=('Enter years[1 to 5].');}
        else if(interest=='' || interest<10){result.innerHTML=('Enter interest between 10% & 19%.');}
        else{
            var amount = parseInt(document.getElementById("amountText").value);
            var year = parseInt(document.getElementById("yearsText").value);
            var interest = parseFloat(document.getElementById("interestText").value);
            var R = interest/12/100;
            var EMI = amount * R * Math.pow((1+R), year * 12) / (Math.pow((1+R), year*12) - 1 );
            result.style.color='green';
            result.innerHTML=`Your EMI amount is &#8377;`+EMI.toFixed(2);}
    }
    </script>
    <style>
        input[type=range] {
            width: 90%;
        }
        .bg-white{
            display: grid;
            grid-template-columns:4fr 4fr 4fr;
            text-align: center;
        }
        @media  only screen and (max-width:600px) {
            .bg-white{
            display: grid;
            grid-template-columns:12fr;
        }
        div{
            padding-top: 14px;
        }
        }
        @media only screen and (max-width:200px){
                div span, input[type='range']{
                    display: none;
                }
                div{
                    padding:0px;
                }
        }
    </style>
</head>
<body class="p-1 bg-dark">
    <h3 class="m-1 text-center text-light">Pesonal Loan EMI Calculator</h3>
    <div class="bg-white rounded p-2">
            <div>
                Loan amount &#8377; <input id="amountText" oninput ="TextChange()" max="1000000" min="10000" type="number"><br>
                <input type="range" oninput="handleBarChange()" id="amountBar" min="10000" max="1000000" value="0"><br>
                <span class="float-start ps-4">&#8377; 10,000/-</span>
            <span class="float-end pe-4">&#8377; 10,00,000/-</span>
            </div>
            
            <div>
                for <input type="number" oninput="TextChange()" id="yearsText" max="5" min="1"> years <br>
                <input type="range" id="yearsBar" oninput="handleBarChange()" min="1" max="5"  value="0"><br>
                <span class="float-start ps-4">1</span>
                <span class="float-end pe-4">5</span>
            </div>
         
           
            <div>
                Interest rate <input type="number" oninput="TextChange()" id="interestText" max="19" min="10"> %
                <input type="range" id="interestBar" oninput="handleBarChange()" min="10" max="19" value="0"><br>
                <span class="float-start ps-4">10%</span>
                <span class="float-end pe-4">19%</span>
            </div>
        
            <div class="mt-4">
                <button onclick="calculateEmi()" class="btn btn-primary">Calculate</button>
            </div>
            <div  class="mt-4">
                <h4 id="EMI"></h4>
            </div>
    </div>
</body>
</html>