<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator(Grid Class)</title>
    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <style>
        input[type=range] {
            width: 90%;
        }
    </style>
    <script>
       function handleBarChange() {
            document.getElementById("amountText").value=document.getElementById("amountBar").value;
            document.getElementById("yearsText").value=document.getElementById("yearsBar").value;
            document.getElementById("interestText").value=document.getElementById("interestBar").value;
       }
       function TextChange(){
        document.getElementById("amountBar").value=document.getElementById("amountText").value;
        document.getElementById("yearsBar").value=document.getElementById("yearsText").value;
        document.getElementById("interestBar").value=document.getElementById("interestText").value;
       }
       function calculateEmi(){
        var amount = parseInt(document.getElementById("amountText").value);
        var year = parseInt(document.getElementById("yearsText").value);
        var interest = parseFloat(document.getElementById("interestText").value);
        var R = interest/12/100;

        if(amount<10000 || amount>1000000 || year<1 || year>5 || interest<10 || interest>19){
            document.getElementById("error").style.display="block";
            document.getElementById("showEmi").style.display="none";
        }
        else {
            var EMI = amount * R * Math.pow((1+R), year * 12) / (Math.pow((1+R), year*12) - 1 );
            if(EMI>=0){
            document.getElementById("EMI").textContent = EMI.toFixed(2);
            document.getElementById("showEmi").style.display="block";
            document.getElementById("error").style.display="none";
            }
            else{
                document.getElementById("error").style.display="block";
            }
        }
    }
      
    </script>
</head>
<body class="container-fluid bg-dark">
    <div class="bg-white p-4 m-2 rounded">
        <h3 class="mb-5 text-center">Pesonal Loan EMI Calculator</h3>
        <div class="row mb-4 mt-2">
            <div class="col">
                Amount you need &#8377; <input id="amountText" oninput ="TextChange()" max="1000000" min="10000" type="number" size="15">
            </div>
            <div class="col">
                for <input type="number" oninput="TextChange()" id="yearsText" max="5" min="1"  size="2"> years
            </div>
            <div class="col">
                Interest rate <input type="number" oninput="TextChange()" id="interestText" max="19" min="10"> %
            </div>
        </div>
        <div class="row mb-1">
            <div class="col">
                <input type="range" oninput="handleBarChange()" id="amountBar" min="10000" max="1000000" value="0">
            </div>
            <div class="col">
                <input type="range" id="yearsBar" oninput="handleBarChange()" min="1" max="5"  value="0">
            </div>
            <div class="col">
                <input type="range" id="interestBar" oninput="handleBarChange()" min="10" max="19" value="0">
            </div>
        </div>
        <div class="row mb-4">
            <div class="col">
               <span class="float-start">&#8377; 10,000/-</span>
               <span class="float-end">&#8377; 10,00,000/-</span>
            </div>
            <div class="col">
                <span class="float-start">1</span>
                <span class="float-end">5</span>
            </div>
            <div class="col">
                <span class="float-start">10%</span>
                <span class="float-end">19%</span>
            </div>
        </div>
        <div class="row">
            <div class="col" style="text-align: center;">
                <button onclick="calculateEmi()" class="w-25 btn btn-primary">Calculate</button>
            </div>
            <div class="col">
                <h3 id="showEmi" style="display: none;">Your monthly EMI amount is &#8377;<span id="EMI" class="text-primary"></span></h3>
                <h3 id="error" class="text-danger" style="display: none;">Error : invalid input(s)...</h3>
            </div>
        </div>
    </div>
</body>
</html>